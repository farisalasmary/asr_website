<!--

<!doctype html>
<title>Upload new File</title>
<%= csrf_meta_tags %>
<h1>Upload new File</h1>
<%=form_tag({action: :upload}, multipart: true) do=%>
    <%= file_field_tag 'file' =%>
    <%= submit_tag 'Upload'=%>
<% end %>
-->
<% content_for :css_n_js_includes_top do %>
    <%= stylesheet_link_tag 'loading' %>
    <%= csrf_meta_tags %>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<% end %>

<h1 class="my-4">File Uploading</h1>

<% if defined?@error %>
    <div id="error_box" class="container">
      <div class="alert alert-danger alert-dismissible fade show">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <strong>Error:</strong> <%= @error %>
      </div>
    </div>
<% end %>

<div id="preloader" class="card mb-4" style="display: none; padding:50px; border-style:none">
    <div class="loader">Processing...
        <p style="font-size: 10px; color: gray;border-right-style: solid;border-right-width: 0px;margin-left: -100px;margin-right: -100px;">this may take a few minutes to complete</p>
    </div>
</div>
<!-- Blog Post -->
<div class="card mb-4">
    <div class="container mt-3" style="padding-bottom:15px">
      <form enctype="multipart/form-data" action="/upload" accept-charset="UTF-8" method="post">
        <label for="url">Upload File:</label>
        <div class="custom-file mb-3">
          <input type="file" class="custom-file-input" id="file" name="file">
          <label class="custom-file-label" for="customFile">Choose file</label>
        </div>
        <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>" />
<!--
          <h6>OR</h6>
        <div class="form-group">
            <label for="url">YouTube URL:</label>
            <input type="text" class="form-control" placeholder="Enter the URL" id="url">
        </div>
-->
        <div class="mt-3">
          <button id='submit_btn' type="submit" class="btn btn-secondary" name="commit" value="Upload" data-disable-with="Upload">Submit</button>
        </div>
      </form>
    </div>
</div>
<% content_for :css_n_js_includes_bottom do %>
    <script>
        $("#submit_btn").on( "click", function() {
            $("#preloader").show();
        });
    // Add the following code if you want the name of the file appear on select
    $(".custom-file-input").on("change", function() {
      var fileName = $(this).val().split("\\").pop();
      $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
    });
    </script>
<% end %>
<!--

<h1 class="my-4">Page Heading
   <small>Secondary Text</small>
</h1>
 Blog Post 
<div class="card mb-4">
   <video style="background-color: black !important;" controls>
      <source src="https://constance9414400787236.googuu.xyz/api/get.php?id=2ffa63fe739dfd5834084c1c131" type="video/mp4">
      Your browser does not support HTML video.
   </video>
   <audio id='audio_controller' controls preload="auto">
      <source src="https://constance9414400787236.googuu.xyz/api/get.php?id=2ffa63fe739dfd5834084c1c131" type="audio/wav">
      Your browser does not support the <code>audio</code> element. 
   </audio>
   <div class="card-body">
      <h2 class="card-title">Post Title</h2>
      <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Reiciendis aliquid atque, nulla? Quos cum ex quis soluta, a laboriosam. Dicta expedita corporis animi vero voluptate voluptatibus possimus, veniam magni quis!</p>
      <a href="#" class="btn btn-primary">Read More &rarr;</a>
   </div>
   <div class="card-footer text-muted">
      Posted on January 1, 2020 by
      <a href="#">Start Bootstrap</a>
   </div>
</div>

-->
